(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{386:function(e,t,n){"use strict";n.r(t);n(22),n(39);var r=n(5),o={asyncData:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(t){var n,r,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$axios,e.next=3,n.$get("https://api.octavues.me/videos/1");case 3:if(!(r=e.sent).success){e.next=7;break}return data=r.data,e.abrupt("return",new Promise(function(e){setTimeout(function(){e(data)},4e3)}));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),layout:"admin",data:function(){return{file:"",page:1,loading:!1}},watch:{page:function(e){this.sync(e)}},methods:{copyLink:function(e){this.$copyText(e)},handleFileUpload:function(){this.file=this.$refs.file.files[0]},submitFile:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,(t=new FormData).append("file",this.file),e.next=5,this.$axios.$post("https://api.octavues.me/videos",t,{headers:{"Content-Type":"multipart/form-data"}});case 5:e.sent.success&&(this.sync(1),this.loading=!1);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),sync:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.$axios.$get("https://api.octavues.me/videos/"+t);case 3:n=e.sent,this.videos=n.data.videos,this.pages=n.data.pages,this.loading=!1;case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),deleteVideo:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.$axios.$get("https://api.octavues.me/videos/delete/"+t);case 3:e.sent,this.sync(1),this.loading=!1;case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}},c=n(8),component=Object(c.a)(o,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("label",[e._v("File\n        "),n("input",{ref:"file",attrs:{type:"file",id:"file",accept:"video/mp4"},on:{change:function(t){return e.handleFileUpload()}}})]),e._v(" "),n("v-btn",{attrs:{disabled:e.loading},on:{click:function(t){return e.submitFile()}}},[e._v("Submit")]),e._v(" "),e.loading?n("span",[e._v("Loading Please Wait!!!")]):e._e()],1),e._v(" "),e._l(e.videos,function(video,t){return n("v-flex",{key:t,attrs:{xs6:""}},[n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("vue-plyr",[n("video",{attrs:{src:video.filename}})])],1),e._v(" "),n("v-card-actions",[n("v-btn",{attrs:{flat:"",small:"",color:"primary",disabled:e.loading},on:{click:function(t){return e.copyLink(video.filename)}}},[e._v("Copy")]),e._v(" "),n("v-btn",{attrs:{flat:"",small:"",color:"error",disabled:e.loading},on:{click:function(t){return e.deleteVideo(video._id)}}},[e._v("Delete")])],1)],1)],1)})],2),e._v(" "),n("v-layout",{attrs:{wrap:"",row:""}},[n("v-flex",{attrs:{"text-xs-center":""}},[n("v-pagination",{attrs:{length:e.pages,"total-visible":5,circle:""},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)],1)],1)},[],!1,null,"6198dc46",null);t.default=component.exports}}]);