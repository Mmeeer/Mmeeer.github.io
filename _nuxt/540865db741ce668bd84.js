(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{385:function(e,t,r){"use strict";r.r(t);r(22),r(39);var n=r(5),o={layout:"admin",asyncData:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(t){var r,n,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$axios,e.next=3,r.$get("https://api.octavues.me/images/1");case 3:if(!(n=e.sent).success){e.next=7;break}return data={images:n.data.images,pages:n.data.pages,page:1,loading:!1},e.abrupt("return",new Promise(function(e){setTimeout(function(){e(data)},4e3)}));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),data:function(){return{myCroppa:{},width:400,height:400,uploadable:!1,sometypes:[{title:"Header Image Paralax",width:1920,height:600,myCroppa:{},demo:""},{title:"Blog Header Image",width:1920,height:300,myCroppa:{},demo:""},{title:"Blog image",width:900,height:550,myCroppa:{},demo:""},{title:"Profile Picture",width:400,height:400,myCroppa:{},demo:""},{title:"Event Paralax image",width:1920,height:1080,myCroppa:{},demo:""},{title:"Narrow Header Image",width:1920,height:500,myCroppa:{},demo:""},{title:"Narrowest Header Image",width:1920,height:350,myCroppa:{},demo:""},{title:"Slider Image",width:400,height:550,myCroppa:{},demo:""},{title:"Project small parallax",width:910,height:1080,myCroppa:{},demo:""},{title:"Project video image",width:470,height:280,myCroppa:{},demo:""}]}},watch:{page:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.$axios.$get("https://api.octavues.me/images/"+t);case 3:(r=e.sent).success?(this.images=r.data.images,this.pages=r.data.pages,this.loading=!1):this.loading=!1;case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},methods:{helloworld:function(e,t){this.width=e,this.height=t},upload:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(t){var r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sometypes[t].myCroppa.generateBlob(function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(n){var o,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.loading=!0,(o=new FormData).append("file",n,"filename.jpg"),o.append("other","blahblahblah"),e.next=6,r.$axios.$post("https://api.octavues.me/uploads",o,{headers:{"Content-Type":"multipart/form-data;"}});case 6:if(c=e.sent,r.sometypes[t].myCroppa.remove(),!c.success){e.next=21;break}if(1!=r.page){e.next=16;break}return e.next=12,r.$axios.$get("https://api.octavues.me/images/1");case 12:(l=e.sent).success?(r.images=l.data.images,r.pages=l.data.pages,r.loading=!1):r.loading=!1,e.next=18;break;case 16:r.page=1,r.loading=!1;case 18:r.loading=!1,e.next=22;break;case 21:r.loading=!1;case 22:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),copyLink:function(e){this.$copyText(e)},removeImage:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$axios.$get("https://api.octavues.me/uploads/"+t);case 2:if(!e.sent.success){e.next=16;break}if(1!=this.page){e.next=11;break}return e.next=7,this.$axios.$get("https://api.octavues.me/images/1");case 7:(r=e.sent).success?(this.images=r.data.images,this.pages=r.data.pages,this.loading=!1):this.loading=!1,e.next=13;break;case 11:this.page=1,this.loading=!1;case 13:this.loading=!1,e.next=17;break;case 16:this.loading=!1;case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}},c=r(8),component=Object(c.a)(o,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-flex",[r("v-tabs",{attrs:{color:"#222222",dark:"","show-arrows":""}},[r("v-tabs-slider",{attrs:{color:"#cccccc"}}),e._v(" "),e._l(e.sometypes,function(t,n){return r("v-tab",{key:n},[e._v("\n        "+e._s(t.title)+"\n      ")])}),e._v(" "),r("v-tabs-items",e._l(e.sometypes,function(t,n){return r("v-tab-item",{key:n},[r("v-card",[r("br"),e._v(" "),r("v-layout",{attrs:{"align-center":"","justify-center":"",column:"","fill-height":""}},[r("croppa",{staticStyle:{"-webkit-box-shadow":"0px 10px 15px 5px rgba(0,0,0,0.3)","-moz-box-shadow":"0px 10px 15px 5px rgba(0,0,0,0.3)","box-shadow":"0px 10px 15px 5px rgba(0,0,0,0.3)"},attrs:{width:t.width/2,height:t.height/2,"show-remove-button":!1,"canvas-color":"#222222",placeholder:"Choose an image","placeholder-font-size":0,"placeholder-color":"default",accept:"image/*","file-size-limit":0,quality:2,"zoom-speed":3,disabled:!1,"disable-drag-and-drop":!1,"disable-click-to-choose":!1,"disable-drag-to-move":!1,"disable-scroll-to-zoom":!1,"disable-rotation":!1,"prevent-white-space":!0,"reverse-scroll-to-zoom":!1},on:{"new-image-drawn":function(t){e.uploadable=!0},"image-remove":function(t){e.uploadable=!1}},model:{value:t.myCroppa,callback:function(r){e.$set(t,"myCroppa",r)},expression:"item.myCroppa"}}),e._v(" "),r("v-flex",{attrs:{dark:""}},[e.uploadable?r("v-btn",{attrs:{color:"#3FB8AF",dark:""},on:{click:function(t){return e.upload(n)}}},[e._v("Upload")]):e._e(),e._v(" "),r("v-btn",{attrs:{color:"error",dark:""},on:{click:function(e){return t.myCroppa.remove()}}},[e._v("Remove")]),e._v(" "),r("v-btn",{attrs:{color:"primary",dark:""},on:{click:function(e){t.demo=t.myCroppa.generateDataUrl()}}},[e._v("See Demo")]),e._v(" "),t.demo?r("v-btn",{attrs:{color:"primary",dark:""},on:{click:function(e){t.demo=""}}},[e._v("Hide Demo")]):e._e()],1),e._v(" "),r("v-flex",[r("img",{attrs:{src:t.demo}})])],1),e._v(" "),r("br")],1)],1)}),1)],2),e._v(" "),r("br"),e._v(" "),0==e.loading?r("v-layout",{attrs:{wrap:"",row:""}},[r("v-flex",{attrs:{xs12:"",md6:"",dark:"",color:"secondary"}},e._l(e.images,function(image,t){return t%2==0?r("v-card",{key:t,staticStyle:{cursor:"pointer",margin:"10px"},on:{click:function(t){return e.copyLink(image.filename)},dblclick:function(t){return e.removeImage(image._id)}}},[r("v-img",{attrs:{src:image.filename}})],1):e._e()}),1),e._v(" "),r("v-flex",{attrs:{xs12:"",md6:"",dark:"",color:"secondary"}},e._l(e.images,function(image,t){return t%2==1?r("v-card",{key:t,staticStyle:{cursor:"pointer",margin:"10px"},on:{click:function(t){return e.copyLink(image.filename)},dblclick:function(t){return e.removeImage(image._id)}}},[r("v-img",{attrs:{src:image.filename}})],1):e._e()}),1)],1):e._e(),e._v(" "),r("br"),e._v(" "),r("v-layout",{attrs:{wrap:"",row:""}},[r("v-flex",{attrs:{"text-xs-center":""}},[r("v-pagination",{attrs:{length:e.pages,"total-visible":5,circle:""},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)],1)],1)},[],!1,null,"ccfb27b4",null);t.default=component.exports}}]);